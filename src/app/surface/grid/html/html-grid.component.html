<div class="grid" ngClass="{{stage.stateName() | lowercase }}">
  <div class="strip" *ngFor="let soundName of grid.soundNames">
    <div *ngFor="let key of grid.keysBySound[soundName]; let i = index" class="beat"
         [ngClass]="{current: beat.current(i), selected: player.isSelected(i)}"
         [supportedPulses]="grid.supportPulses" [key]="key">
    </div>
  </div>
  <div class="overlay" *ngIf="stage.shouldShowCount()">
    <div class="counter" *ngIf="!beat.paused">{{beat.count()}}</div>
  </div>
  <div class="position" *ngIf="stage.shouldShowPosition()"
       [style.left]="(beat.progress() * 100) + '%'"></div>
</div>
